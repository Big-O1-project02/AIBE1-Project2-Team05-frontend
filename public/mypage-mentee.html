<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>재능 기부 플랫폼 - 마이페이지</title>
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon/favicon-16x16.png" />
    <link rel="manifest" href="./assets/favicon/site.webmanifest" />

    <link rel="stylesheet" href="css/main.compiled.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Pacifico&family=Noto+Sans+KR:wght@400;500;700&display=swap"
      rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet" />
    <link rel="stylesheet" href="./css/mypage.css" />
    <link rel="stylesheet" href="./css/match.css" />
    <script src="js/mypage-mentee.js"></script>
  </head>
  <body class="bg-gray-50">
    <div id="header-placeholder"></div>
    <main class="container mx-auto px-4 py-8">
      <!-- 사용자 프로필 헤더 -->
      <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
        <div class="flex flex-col md:flex-row items-center md:items-start gap-6">
          <div class="relative">
            <div class="w-32 h-32 rounded-full bg-gray-200 overflow-hidden">
              <img
                id="profile-image"
                src="../assets/images/default-profile.png"
                alt="프로필 이미지"
                class="w-full h-full object-cover" />
            </div>
          </div>
          <div class="flex-1 text-center md:text-left">
            <div class="flex flex-col md:flex-row md:items-center gap-2 mb-2">
              <h1 id="user-nickname" class="text-2xl font-bold">사용자명</h1>
              <span id="user-role" class="bg-primary text-white text-xs px-2 py-1 rounded-full">멘티</span>
            </div>
            <p id="user-info" class="text-gray-600 mb-4">관심분야 | 지역</p>
            <p id="user-introduction" class="text-gray-700 mb-4">사용자 소개글</p>
            <div id="user-tags" class="flex flex-wrap gap-2">
              <!-- 태그는 동적으로 추가됩니다 -->
            </div>
          </div>
        </div>
      </div>

      <!-- 탭 메뉴 -->
      <div class="bg-white rounded-lg shadow-sm mb-6">
        <div class="border-b border-gray-200">
          <nav class="flex overflow-x-auto">
            <button id="activity-tab" class="tab-button active" data-tab="activity">활동 내역</button>
            <button id="reviews-tab" class="tab-button" data-tab="reviews">작성 리뷰</button>
            <button id="settings-tab" class="tab-button" data-tab="settings">프로필 설정</button>
          </nav>
        </div>
      </div>

      <!-- 탭 컨텐츠 - 나의 활동 내역 -->
      <div class="tab-content" id="activity-content">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- 1. 진행 중인 매칭 -->
          <div class="bg-white rounded-lg shadow-sm p-6">
            <div class="flex justify-between items-center mb-4">
              <h2 class="text-lg font-semibold">신청한 매칭</h2>
              <a
                href="more-details.html?type=matching-requests"
                class="text-primary text-sm font-medium hover:underline flex items-center">
                <i class="ri-add-line mr-1"></i> 더보기
              </a>
            </div>
            <div id="matches-container" class="space-y-4">
              <!-- 매칭 데이터는 동적으로 추가됩니다 -->
              <div class="text-center py-6 text-gray-500">
                <p>데이터를 불러오는 중입니다...</p>
              </div>
            </div>
          </div>

          <!-- 내가 작성한 커뮤니티 게시글 목록 -->
          <div class="bg-white rounded-lg shadow-sm p-6">
            <div class="flex justify-between items-center mb-4">
              <h2 class="text-lg font-semibold">작성한 게시글</h2>
              <a
                href="more-details.html?type=community"
                class="text-primary text-sm font-medium hover:underline flex items-center">
                <i class="ri-add-line mr-1"></i> 더보기
              </a>
            </div>
            <div id="posts-container" class="space-y-4">
              <!-- 게시글 데이터는 동적으로 추가됩니다 -->
              <div class="text-center py-6 text-gray-500">
                <p>데이터를 불러오는 중입니다...</p>
              </div>
            </div>
          </div>

          <!-- 내가 작성한 댓글 목록 -->
          <div class="bg-white rounded-lg shadow-sm p-6">
            <div class="flex justify-between items-center mb-4">
              <h2 class="text-lg font-semibold mb-4">작성한 댓글</h2>
              <a
                href="more-details.html?type=my-comments"
                class="text-primary text-sm font-medium hover:underline flex items-center">
                <i class="ri-add-line mr-1"></i> 더보기
              </a>
            </div>
            <div id="comments-container" class="space-y-4">
              <!-- 댓글 데이터는 동적으로 추가됩니다 -->
              <div class="text-center py-6 text-gray-500">
                <p>데이터를 불러오는 중입니다...</p>
              </div>
            </div>
          </div>

          <!-- 관심 목록 (좋아요한 게시글 + 북마크한 게시글) -->
          <div class="bg-white rounded-lg shadow-sm p-6">
            <div class="flex justify-between items-center mb-4">
              <h2 class="text-lg font-semibold">관심 목록</h2>
              <a
                href="/more-details.html?filter=all"
                class="text-primary text-sm font-medium hover:underline flex items-center">
                <i class="ri-add-line mr-1"></i> 더보기
              </a>
            </div>

            <!-- 북마크한 게시글 -->
            <div class="mb-6">
              <h3 class="text-base font-semibold mb-2 text-gray-800">📌 북마크한 게시글</h3>
              <div id="bookmarks-container" class="space-y-4">
                <!-- 북마크 데이터는 동적으로 추가됩니다 -->
                <div class="text-center py-6 text-gray-500">
                  <p>데이터를 불러오는 중입니다...</p>
                </div>
              </div>
            </div>

            <!-- 좋아요한 게시글 -->
            <div>
              <h3 class="text-base font-semibold mb-2 text-gray-800">❤️ 좋아요한 게시글</h3>
              <div id="likes-container" class="space-y-4">
                <!-- 좋아요 데이터는 동적으로 추가됩니다 -->
                <div class="text-center py-6 text-gray-500">
                  <p>데이터를 불러오는 중입니다...</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 탭 컨텐츠 - 작성 리뷰 -->
      <div class="tab-content hidden" id="reviews-content">
        <div class="bg-white rounded-lg shadow-sm p-6">
          <div class="flex justify-between items-center mb-6">
            <h2 class="text-xl font-semibold">작성 리뷰</h2>
            <a
              href="/write-review.html"
              class="bg-primary text-white px-4 py-2 rounded-button whitespace-nowrap hover:bg-indigo-600 flex items-center">
              <div class="w-5 h-5 flex items-center justify-center mr-1">
                <i class="ri-add-line"></i>
              </div>
              새 리뷰 작성
            </a>
          </div>

          <!-- 리뷰 목록 -->
          <div id="reviews-container" class="space-y-6">
            <!-- 리뷰 데이터는 동적으로 추가됩니다 -->
            <div class="text-center py-6 text-gray-500">
              <p>데이터를 불러오는 중입니다...</p>
            </div>
          </div>

          <!-- 페이지네이션 -->
          <div id="reviews-pagination" class="flex justify-center mt-6">
            <!-- 페이지네이션은 동적으로 추가됩니다 -->
          </div>
        </div>
      </div>

      <!-- 탭 컨텐츠 - 프로필 설정 -->
      <div class="tab-content hidden" id="settings-content">
        <div class="bg-white rounded-lg shadow-sm p-6">
          <h2 class="text-xl font-semibold mb-6">프로필 설정</h2>

          <form id="profile-settings-form" class="space-y-6">
            <!-- 기본 정보 섹션 -->
            <div>
              <h3 class="text-lg font-medium mb-4">기본 정보</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- 프로필 이미지 -->
                <div class="flex flex-col items-center md:items-start">
                  <label class="block text-sm font-medium text-gray-700 mb-2">프로필 이미지</label>
                  <div class="relative">
                    <div class="w-32 h-32 rounded-full bg-gray-200 overflow-hidden">
                      <img
                        id="profile-image-preview"
                        src="../assets/images/default-profile.png"
                        alt="프로필 이미지"
                        class="w-full h-full object-cover" />
                    </div>
                    <button
                      type="button"
                      id="change-profile-image-btn"
                      class="absolute bottom-0 right-0 bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-indigo-600">
                      <i class="ri-camera-line"></i>
                    </button>
                    <input type="file" id="profile-image-input" accept="image/*" class="hidden" />
                  </div>
                  <p class="text-xs text-gray-500 mt-2">권장 크기: 500x500 픽셀</p>
                </div>

                <!-- 닉네임 및 사용자 유형 -->
                <div class="space-y-4">
                  <div>
                    <label for="nickname" class="block text-sm font-medium text-gray-700 mb-1">닉네임</label>
                    <input
                      type="text"
                      id="nickname"
                      name="nickname"
                      class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" />
                  </div>
                  <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">사용자 유형</label>
                    <div class="flex flex-col md:flex-row md:items-center gap-2 mb-2">
                      <span id="user-role-display" class="bg-primary text-white text-xs px-2 py-1 rounded-full"
                        >멘티</span
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 지역 및 소개 -->
            <div class="border-t border-gray-200 pt-6">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label for="area" class="block text-sm font-medium text-gray-700 mb-1">지역</label>
                  <select
                    id="area"
                    name="area"
                    class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                    <option value="">지역 선택</option>
                    <option value="서울">서울</option>
                    <option value="인천">인천</option>
                    <option value="대전">대전</option>
                    <option value="대구">대구</option>
                    <option value="광주">광주</option>
                    <option value="부산">부산</option>
                    <option value="울산">울산</option>
                    <option value="세종">세종</option>
                    <option value="경기">경기</option>
                    <option value="강원">강원</option>
                    <option value="충북">충북</option>
                    <option value="충남">충남</option>
                    <option value="경북">경북</option>
                    <option value="경남">경남</option>
                    <option value="전북">전북</option>
                    <option value="전남">전남</option>
                    <option value="제주">제주</option>
                  </select>
                </div>
                <div>
                  <label for="sigungu" class="block text-sm font-medium text-gray-700 mb-1">시군구</label>
                  <select
                    id="sigungu"
                    name="sigungu"
                    class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                    <option value="">시군구 선택</option>
                    <!-- 시군구 옵션은 동적으로 생성됩니다 -->
                  </select>
                </div>
                <div>
                  <label for="activity_time" class="block text-sm font-medium text-gray-700 mb-1"
                    >활동 가능 시간대</label
                  >
                  <select
                    id="activity_time"
                    name="activity_time"
                    class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                    <option value="">시간대 선택</option>
                    <option value="WEEKDAY_MORNING">평일 오전</option>
                    <option value="WEEKDAY_AFTERNOON">평일 오후</option>
                    <option value="WEEKDAY_EVENING">평일 저녁</option>
                    <option value="WEEKEND_MORNING">주말 오전</option>
                    <option value="WEEKEND_AFTERNOON">주말 오후</option>
                    <option value="WEEKEND_EVENING">주말 저녁</option>
                  </select>
                </div>
                <div>
                  <label for="activity_type" class="block text-sm font-medium text-gray-700 mb-1">활동 유형</label>
                  <select
                    id="activity_type"
                    name="activity_type"
                    class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                    <option value="">활동 유형 선택</option>
                    <option value="ONLINE">온라인</option>
                    <option value="OFFLINE">오프라인</option>
                    <option value="BOTH">온라인/오프라인</option>
                  </select>
                </div>
              </div>
              <div class="mt-4">
                <label for="introduction" class="block text-sm font-medium text-gray-700 mb-1">소개글</label>
                <textarea
                  id="introduction"
                  name="introduction"
                  rows="4"
                  class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"></textarea>
              </div>
            </div>

            <!-- 멘티 전용 설정 -->
            <div id="mentee-settings" class="border-t border-gray-200 pt-6">
              <h3 class="text-lg font-medium mb-4">멘티 설정</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label for="interest" class="block text-sm font-medium text-gray-700 mb-1">관심 분야</label>
                  <select
                    id="interest"
                    name="interest"
                    class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                    <option value="">관심 분야 선택</option>
                    <option value="WEB_DEV">프로그래밍/웹개발</option>
                    <option value="APP_DEV">프로그래밍/앱개발</option>
                    <option value="DESIGN_UX_UI">디자인/UX/UI</option>
                    <option value="DESIGN_GRAPHIC">디자인/그래픽</option>
                    <option value="EDUCATION_MATH">교육/수학</option>
                    <option value="EDUCATION_ENGLISH">교육/영어</option>
                    <option value="MUSIC_PIANO">음악/피아노</option>
                    <option value="FITNESS_YOGA">운동/요가</option>
                  </select>
                </div>
                <div>
                  <label for="tag" class="block text-sm font-medium text-gray-700 mb-1">태그 (쉼표로 구분)</label>
                  <input
                    type="text"
                    id="tag"
                    name="tag"
                    placeholder="예: 프로그래밍,웹개발"
                    class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" />
                </div>
              </div>
            </div>

            <!-- 저장 버튼 -->
            <div class="border-t border-gray-200 pt-6 flex justify-end">
              <button
                type="submit"
                class="bg-primary text-white px-6 py-2 rounded-button whitespace-nowrap hover:bg-indigo-600">
                변경사항 저장
              </button>
            </div>
          </form>
        </div>
      </div>
    </main>
    <div id="footer-placeholder" class="mt-auto"></div>
    <script src="/js/include-and-authHandler.js"></script>
  </body>
</html>
